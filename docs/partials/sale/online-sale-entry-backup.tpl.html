<div class="box-typical box-typical-padding">
    <h5 class="m-t-lg with-border">New Online Sale</h5>
    <div class="row">
        <div class="col col-lg-6">
            <div class="form-horizontal">
                <div class="form-group row">
                    <form class="form-horizontal" ng-submit="vm.loadProductDetails()">
                        <div class="col col-sm-10">
                            <input class="form-control" type="text" placeholder="Search" ng-model="vm.productDetailSearchRequest.keyword" />
                        </div>
                        <div class="col col-sm-2">
                            <button type="submit" class="btn btn-default pull-left"><span class="glyphicon glyphicon-search"></span></button>
                        </div>
                    </form>
                </div>
                <table id="table-edit" class="table table-bordered table-hover">
                    <thead>
                        <tr>
                            <th>#</th>
                            <th>Name</th>
                            <th>Price</th>
                            <th>OnHand</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr ng-repeat="p in vm.productDetails track by $index" ng-class="{'selected':$index == vm.selectedProduct}" ng-click="vm.selectedProduct = $index; vm.setProductDetail(p)" style="cursor: alias">
                            <td>{{$index + 1}}</td>
                            <td>{{p.name}}</td>
                            <td>{{p.salePrice}}</td>
                            <td>{{p.onHand}}</td>
                        </tr>
                    </tbody>
                </table>
                <div class="panel panel-info">
                    <div class="panel-heading">
                        <h3 class="m-t-lg panel-title">Detail</h3>
                    </div>
                    <div class="panel-body">
                        <form class="form-horizontal">
                            <div class="form-group">
                                <label class="control-label ">Name :</label>
                                <input type="text" class="form-control" name="Name" ng-model="vm.saleDetail.name" required="required" readonly="readonly" />
                            </div>
                            <div class="form-group">
                                <label class="control-label ">Price :</label>
                                <input type="text" readonly="readonly" class="form-control" name="SalePrice" ng-model="vm.saleDetail.salePricePerUnit" />
                            </div>
                            <div class="form-group">
                                <label class="control-label ">Quantity :</label>
                                <input type="number" class="form-control" name="Quantity" ng-model="vm.saleDetail.quantity" ng-blur="vm.getPriceAndName()" />
                            </div>
                            <div class="form-group">
                                <label class="control-label ">Total :</label>
                                <input type="number" class="form-control" readonly="readonly" name="Quantity" ng-model="vm.saleDetail.total" />
                            </div>
                            <div class="form-group">
                                <label class="control-label ">&nbsp;</label>
                                <button type="button" class="btn btn-inline btn-info" ng-click="vm.addToCart()">Add to Cart</button>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <div class="col col-lg-6">
            <div class="form-horizontal">
                <div class="form-group">
                    <table id="table-edit" class="table table-bordered table-hover">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Name</th>
                                <th>Unit Price</th>
                                <th>Quantity</th>
                                <th>Total</th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr ng-repeat="p in vm.model.saleDetails track by $index" ng-click="vm.editCart(p)" style="cursor: alias">
                                <td>{{$index + 1}}</td>
                                <td>{{p.name}}</td>
                                <td>{{p.salePricePerUnit}}</td>
                                <td>{{p.quantity}}</td>
                                <td>{{p.total}}</td>
                                <td>
                                    <a class="glyphicon glyphicon-remove" style="cursor: pointer;" ng-click="vm.removeFromCart(p)"></a>
                                </td>
                            </tr>
                            <tr>
                                <td>Total</td>
                                <td></td>
                                <td></td>
                                <td></td>
                                <td>{{vm.model.productAmount}}</td>
                                <td></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
                <div class="form-group ">
                    <label class="control-label ">Order Number:</label>
                    <input type="text" class="form-control" name="name" ng-model="vm.model.orderNumber" />
                </div>
                <!--billing starts-->
                <div class="form-group ">
                    <label class="control-label ">Phone:</label>
                    <div class="row">
                        <div class="col-sm-10">
                            <input type="text" class="form-control" name="phone" ng-model="vm.model.customerPhone"/>
                        </div>
                        <div class="col col-sm-2">
                            <button type="submit" class="btn btn-default pull-left" ng-click="vm.loadCustomer()"><span class="glyphicon glyphicon-search"></span></button>
                        </div>
                    </div>
                </div>
                <div class="form-group ">
                    <label class="control-label ">First Name:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.customerName" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Last Name:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.lastName" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Company:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.company" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Address1:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.address1" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Address2:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.address2" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">City:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.city" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Postcode:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.postcode" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Country:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.country" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Email:</label>
                    <input type="text" class="form-control" name="phone" ng-model="vm.model.billing.email" />
                </div>
                <!--billing ends-->
                <div class="form-group">
                    <label class="control-label">Order Shipment Date:</label>
                    <input type="date" class="form-control" name="orderdate" ng-model="vm.model.orderDate" />
                </div>
                <div class="form-group">
                    <label class="control-label">Selected Order Shipment Date:</label>
                    <span class="font-weight-bold">{{vm.model.orderDate | date}}</span>
                </div>
                <div class="form-group">
                    <label class="control-label">Order Shipment Time:</label>
                    <input type="text" class="form-control" name="ordertime" ng-model="vm.model.orderTime" />
                </div>
                <div class="form-group">
                    <label class="control-label ">Order From:</label>
                    <select type="text" class="form-control " name="accountType" ng-model="vm.model.orderFrom" ng-options="i as i for i in vm.orderFroms"></select>
                </div>
                <div class="form-group">
                    <label class="control-label ">Order Type:</label>
                    <select type="text" class="form-control " name="accountType" ng-model="vm.model.orderType" ng-options="i as i for i in vm.orderTypes"></select>
                </div>
                <div class="form-group">
                    <label class="control-label ">Payment Method:</label>
                    <select type="text" class="form-control " name="Transactiontype" ng-model="vm.model.paymentMethod" ng-options="i as i for i in vm.paymentMethods"></select>
                </div>
                <div class="form-group">
                    <label class="control-label">Selected Payment Service:</label>
                    <input type="text" class="form-control" name="transactionService" ng-model="vm.model.paymentMethod" />
                </div>
                <div class="form-group">
                    <label class="control-label">Add Service charge (eg. in percent)</label>
                    <input type="number" class="form-control" ng-model="vm.serviceChargePercent" placeholder="eg. 1.85 for bkash" ng-blur="vm.calculateServiceCharge()" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Fee/Other:</label>
                    <input type="number" class="form-control" name="Discount" ng-model="vm.model.otherAmount" ng-blur="vm.calculateTotal()" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Discount:</label>
                    <input type="number" class="form-control" name="Discount" ng-model="vm.model.discountAmount" ng-blur="vm.calculateTotal()" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Payable Total:</label>
                    <input type="number" readonly="readonly" class="form-control" name="Total" ng-model="vm.model.totalAmount" />
                </div>

                <div class="form-group ">
                    <label class="control-label ">Paid:</label>
                    <input type="number" class="form-control" name="Paid" ng-model="vm.model.paidAmount" ng-blur="vm.getReturn()" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Due:</label>
                    <input type="number" class="form-control" name="Paid" ng-model="vm.model.dueAmount" readonly="readonly" />
                </div>
                <div class="form-group">
                    <label class="control-label">Transaction Number:</label>
                    <input type="text" class="form-control" name="transactionNum" ng-model="vm.model.transactionNumber" />
                </div>
                <div class="form-group ">
                    <label class="control-label ">Customer Note:</label>
                    <input type="text" class="form-control" name="Remarks" ng-model="vm.model.customerNote" />
                </div>
                <div class="form-group ">
                    <button type="button" class="btn btn-inline btn-success" ng-click="vm.save()">Save</button>
                    <button type="button" class="btn btn-inline btn-info" ui-sref="root.sales">Back</button>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('[data-toggle="tooltip"]').tooltip();
    })
</script>