<div class="box-typical box-typical-padding">
    <h5 class="m-t-lg with-border">Customer List</h5>
    <div class="form-horizontal">
        <form ng-submit="vm.search()">
            <div class="form-group row">
                <div class="col col-sm-6">
                    <label class="control-label">&nbsp;</label>
                    <div ng-include="'partials/common/search-box.html'"></div>
                </div>
                <div class="col col-sm-3">
                    <div ng-include="'partials/common/report-header-fromDate.tpl.html'"></div>
                </div>
                <div class="col col-sm-3">
                    <div ng-include="'partials/common/report-header-toDate.tpl.html'"></div>
                </div>
                <div class="col col-sm-2">
                    <!--<button type="button" class="btn btn-default-outline" ng-click="vm.report(vm.models[0]['shopId'])"><span class="glyphicon glyphicon-download-alt"></span></button>-->
                </div>
            </div>
        </form>
    </div>

    <div class="row" id="list-history-head">
        <div class="bootstrap-table">
            <div class="fixed-table-container">
                <div class="fixed-table-body">
                    <div class="table-responsive">
                        <table id="table-edit" class="table table-bordered table-hover">
                            <thead>
                                <tr>
                                    <th width="1">
                                        #
                                    </th>
                                    <th ng-click="vm.toggleSort('Modified');vm.saveOrderByValue()">
                                      Created  Date <span class="glyphicon glyphicon-sort"></span>
                                    </th>
                                    <th ng-click="vm.toggleSort('Modified');vm.saveOrderByValue()">
                                        Modified  Date <span class="glyphicon glyphicon-sort"></span>
                                    </th>
                                    <th ng-click="vm.toggleSort('name')">Name <span class="glyphicon glyphicon-sort"></span></th>
                                    <th class="table-icon-cell">

                                        <i class="font-icon font-icon-phone"></i>
                                        Phone Number
                                    </th>
                                    <th ng-click="vm.toggleSort('totalDue')">Total Amount(Total Due) <span class="glyphicon glyphicon-sort"></span></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr ng-repeat="p in vm.models track by $index">
                                    <td>
                                        <span class="tabledit-span tabledit-identifier">
                                            {{(vm.searchRequest.page-1)*10 + $index + 1}}
                                        </span>
                                    </td>
                                    <td ng-style="vm.isOverDue(p) && {'color':'red', 'font-weight':'bold'}">{{p.created | date}} <span ng-show="vm.isOverDue(p)">({{vm.toInt(vm.getDateDiff(p.created))}})</span></td>
                                    <td ng-style="vm.isOverDue(p) && {'color':'red', 'font-weight':'bold'}">{{p.modified | date}} <span ng-show="vm.isOverDue(p)">({{vm.toInt(vm.getDateDiff(p.created))}})</span></td>
                                    <td class="tabledit-view-mode"><span class="tabledit-span">{{p.name}}</span></td>
                                    <td class="table-icon-cell">{{p.phone}}</td>
                                    <!--<td class="color-blue-grey-lighter tabledit-view-mode"><span class="tabledit-span">{{p.district}}</span></td>-->
                                    <td class="color-blue-grey-lighter tabledit-view-mode"><span class="tabledit-span">{{p.totalDue}}</span></td>
                                    <td>
                                        <label ng-show="p.isActive">Active</label>
                                        <label ng-hide="p.isActive">Deactived</label>
                                        <input type="checkbox" ng-model="p.isActive" ng-change="vm.update2(p)" />
                                        <label class="label-success" ng-show="p.message.length>0">Updated</label>
                                    </td>
                                    <td style="white-space: nowrap; width: 1%;">
                                        <div class="tabledit-toolbar btn-toolbar" style="text-align: left;">
                                            <div class="btn-group btn-group-sm" style="float: none;">
                                                <button type="button" class="tabledit-edit-button btn btn-sm btn-default" style="float: none; cursor: pointer;" ui-sref="root.customer({id:p.id})">
                                                    <span class="glyphicon glyphicon-edit"></span>
                                                </button>
                                                <button type="button" class="tabledit-edit-button btn btn-sm btn-default" style="float: none; cursor: pointer;" ui-sref="root.customerhistory({id: p.id})">
                                                    <span class="glyphicon glyphicon-time"></span>
                                                </button>
                                                <button type="button" class="tabledit-edit-button btn btn-sm btn-default" style="float: none; cursor: pointer;" ui-sref="root.customerproductview({id: p.id})">
                                                    <span class="glyphicon glyphicon-th"></span>
                                                </button>
                                                <button type="button" class="btn btn-sm btn-default" style="float: none; cursor: pointer;" ui-sref="root.customeraddresses({id: p.id})">
                                                    <span class="glyphicon glyphicon-home"></span>
                                                </button>
                                                <button type="button" class="tabledit-edit-button btn btn-sm btn-default" style="float: none; cursor: pointer;" ui-sref="root.customerproducthistory({id: p.id})">
                                                    <span>P</span>
                                                </button>
                                            </div>
                                        </div>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
                <div ng-include="'partials/common/pagination.html'"></div>
            </div>
        </div>
    </div>


</div>


